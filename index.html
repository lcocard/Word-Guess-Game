<!DOCTYPE html>

<!-- Word-Guess-Game index.html -->

<html lang="US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Word-Guess-Game</title>

    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link rel="icon" type="image/png" href="assets/images/WG.png">

    <!-- Bootstrap CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body>

    <header>
        <!-- Start Nav -->
        <nav>
            <div class="container">
                <div class="row">
                    <div class="col-sm-12" style="padding: 0;">
                        <div class="card" style="width: 100%; border: 1px solid black">
                            <img class="card-img-top" src="assets/images/3-WordGuess.jpg">
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <!-- End Nav -->
    </header>
    <main>
        <div class="container" style="width: 70%; border: 0;">
            <div class="row">
                <div class="col-sm-12" style="padding: 0; border-bottom: 1px solid black">
                    <section>
                        <div class="song">
                            <p>Song Title</p>
                        </div>
                    </section>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4" style="padding: 0; border: 1px solid white;">
                    <div class="card" style="width: 100%; height: auto; border: 0; background-color: black">
                        <img class="card-img-top" src="assets/images/4-WordGuess.jpg">
                    </div>
                </div>
                <div class="col-sm-8" style="padding: 1em; border: 1px solid white; color: white;">
                    <div>
                        <p id="directions-text">Press any key to get started!</p>
                        <p id="wins-text"></p>
                        <p id="currentGuessWord-text"></p>
                        <p id="guessesremaining-text"></p>
                        <p id="userGuessLetter-text"></p>
                    </div>
                    <script type="text/javascript">
                        // debugger
                        var alreadyGuessedLetterIndex = 0;
                        var foundLetterFlag = 0;
                        var wrongLetterIndex = 0;
                        var wins = 0;
                        var wordGuessArray = ["genesis", "madonna", "blondie", "queen", "rush", "police", "metallica", "aerosmith", "scorpions", "eurythmics"]
                        var genesis = {
                            songTitle: "Genesis",
                            pic: "assets/images/genesis.png"
                        }
                        var madonna = {
                            songTitle: "Madonna",
                            pic: "assets/images/MADONNA.png"
                        }
                        var blondie = {
                            songTitle: "Blondie",
                            pic: "assets/images/blondie.png"
                        }
                        var queen = {
                            songTitle: "Queen",
                            pic: "assets/images/queen-band.png"
                        }
                        var rush = {
                            songTitle: "Rush",
                            pic: "assets/images/Rush-band.png"
                        }
                        var police = {
                            songTitle: "Police",
                            pic: "assets/images/thepolice.png"
                        }
                        var metallica = {
                            songTitle: "Metallica",
                            pic: "assets/images/metallica.png"
                        }
                        var aerosmith = {
                            songTitle: "Aerosmith",
                            pic: "assets/images/aerosmith.png"
                        }
                        var scorpions = {
                            songTitle: "Scorpions",
                            pic: "assets/images/scorpions.png"
                        }
                        var eurythmics = {
                            songTitle: "Eurythmics",
                            pic: "assets/images/eurythmics.png"
                        }
                        /* ***** Pick random word from array  */
                        var wordGuessPick = wordGuessArray[Math.floor(Math.random() * wordGuessArray.length)];
                        /*  ***** Split word into array */
                        var splitWordGuessPick = wordGuessPick.split("");
                        console.log(splitWordGuessPick);
                        var currentGuessWord = ["- "];
                        var guessesremaining = 20;
                        var userGuessLetter = [" "];
                        var directionsText = document.getElementById("directions-text");
                        var winsText = document.getElementById("wins-text");
                        var currentGuessWordText = document.getElementById("currentGuessWord-text");
                        var guessesremainingText = document.getElementById("guessesremaining-text");
                        var userGuessLetterText = document.getElementById("userGuessLetter-text");
                        winsText.textContent = "Wins: " + wins;
                        /* Build array to be dispalyed for Current Word */
                        for (var s = 1; s < splitWordGuessPick.length; s++) {
                            currentGuessWord.push("- ");
                        }
                        currentGuessWordText.textContent = " Current Word: " + currentGuessWord.join('');
                        guessesremainingText.textContent = " Number of guesses remaining: " + guessesremaining;
                        userGuessLetterText.textContent = " Letters already guessed: " + userGuessLetter;
                        // This function is run whenever the user presses a key.
                        document.onkeyup = function (event) {
                            var alreadyGuessedLetterIndex = 0;
                            var foundLetterFlag = 0;
                            var wrongLetterIndex = 0;
                            // This loop is for limiting the user tries to 20 and increasing the wining number if the entire word was guessed
                            for (var i = 0; i < 20; i++) {
                                // This loop is for checking if there are any letters remaining to be guessed. It will terminate the loop that iterates 20 times, as the word has been guessed already, and we will reset the variables
                                // The image will be changed with a new one showing the band, there will be a title displayed at the top and a song will play

                                // Determines which key was pressed.
                                var userGuessLetterElement = event.key;
                                console.log(userGuessLetterElement);
                                // This logic determines if the key pressed by the user is one of the letters from the word to be guessed
                                for (var k = 0; k < splitWordGuessPick.length; k++) {
                                    if (userGuessLetterElement === splitWordGuessPick[k]) {
                                        currentGuessWord[k] = userGuessLetterElement;
                                        alreadyGuessedLetterIndex++;
                                        foundLetterFlag = 1;
                                        console.log(alreadyGuessedLetterIndex);
                                        // Hide the directions
                                        directionsText.textContent = "";
                                        currentGuessWordText.textContent = " Current Word: " + currentGuessWord.join('');
                                        if (alreadyGuessedLetterIndex === 1) {
                                            userGuessLetter.push(userGuessLetterElement);
                                            userGuessLetterText.textContent = " Letters already guessed: " + userGuessLetter.join('');
                                            if (JSON.stringify(currentGuessWord) == JSON.stringify(splitWordGuessPick)) {
                                                wins++;
                                                winsText.textContent = " Wins: " + wins;
                                            }
                                        }
                                    }
                                    else {
                                        // Hide the directions
                                        directionsText.textContent = "";
                                        wrongLetterIndex++;
                                    }
                                }
                                if (foundLetterFlag !== 1 && wrongLetterIndex === splitWordGuessPick.length) {
                                    guessesremaining = guessesremaining - 1;
                                    guessesremainingText.textContent = " Number of guesses remaining: " + guessesremaining;
                                }


                            }
                        }
                    </script>
                </div>
            </div>
        </div>
    </main>





</body>

</html>